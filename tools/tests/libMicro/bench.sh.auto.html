<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>bench.sh</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">bench.sh&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-reference">#!/bin/sh
</span><span class="enscript-comment">#
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># CDDL HEADER START
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># The contents of this file are subject to the terms
</span><span class="enscript-comment"># of the Common Development and Distribution License
</span><span class="enscript-comment"># (the &quot;License&quot;).  You may not use this file except
</span><span class="enscript-comment"># in compliance with the License.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># You can obtain a copy of the license at
</span><span class="enscript-comment"># src/OPENSOLARIS.LICENSE
</span><span class="enscript-comment"># or <a href="http://www.opensolaris.org/os/licensing.">http://www.opensolaris.org/os/licensing.</a>
</span><span class="enscript-comment"># See the License for the specific language governing
</span><span class="enscript-comment"># permissions and limitations under the License.
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># When distributing Covered Code, include this CDDL
</span><span class="enscript-comment"># HEADER in each file and include the License file at
</span><span class="enscript-comment"># usr/src/OPENSOLARIS.LICENSE.  If applicable,
</span><span class="enscript-comment"># add the following below this CDDL HEADER, with the
</span><span class="enscript-comment"># fields enclosed by brackets &quot;[]&quot; replaced with your
</span><span class="enscript-comment"># own identifying information: Portions Copyright [yyyy]
</span><span class="enscript-comment"># [name of copyright owner]
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># CDDL HEADER END
</span><span class="enscript-comment">#
</span>
<span class="enscript-comment">#
</span><span class="enscript-comment"># Copyright 2007 Sun Microsystems, Inc.  All rights reserved.
</span><span class="enscript-comment"># Use is subject to license terms.
</span><span class="enscript-comment">#
</span>

<span class="enscript-comment"># usage function - defines all the options that can be given to this script.
</span>function usage {
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;Usage&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$0 [-l] [-h] [name of test]&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;-l               : This option runs the lmbench tests along with the default libmicro tests.&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;-h               : Help. This option displays information on how to run the script. &quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;[name of test]   : This option runs only the test that is specified&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;Examples&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$0               : This is the defualt execution. This will run only the default libmicro tests.&quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$0 -l            : This will run the lmbench tests too &quot;</span>
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$0 getppid       : This will run only the getppid tests&quot;</span>
	<span class="enscript-keyword">exit</span>
	
}

<span class="enscript-keyword">if</span> [ $<span class="enscript-comment"># -eq 1 ]
</span><span class="enscript-keyword">then</span> 
	lmbench=2    <span class="enscript-comment"># to check if only a single test is to be run. e.g, ./bench.sh getppid
</span><span class="enscript-keyword">else</span>
	lmbench=0    <span class="enscript-comment"># to run the default libMicro tests, without the lmbench tests.
</span><span class="enscript-keyword">fi</span>

<span class="enscript-keyword">while</span> <span class="enscript-keyword">getopts</span> <span class="enscript-string">&quot;lh&quot;</span> OPT_LIST
<span class="enscript-keyword">do</span>
	<span class="enscript-keyword">case</span> $OPT_LIST <span class="enscript-keyword">in</span> 
		l) lmbench=1;;    <span class="enscript-comment"># to run the libmicro tests including the lmbench tests.
</span>		h) usage;;
		*) usage;;
	<span class="enscript-keyword">esac</span>
<span class="enscript-keyword">done</span>



tattle=<span class="enscript-string">&quot;./tattle&quot;</span>

bench_version=0.4.0
libmicro_version=`$tattle -V`

<span class="enscript-keyword">case</span> $libmicro_version <span class="enscript-keyword">in</span>
$bench_version)
	;;
*)
	<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;ERROR: libMicro version doesn't match 'bench' script version&quot;</span>
	<span class="enscript-keyword">exit</span> 1
<span class="enscript-keyword">esac</span>

TMPROOT=/private/tmp/libmicro.$$
VARROOT=/private/var/tmp/libmicro.$$
mkdir -p $TMPROOT
mkdir -p $VARROOT
<span class="enscript-keyword">trap</span> <span class="enscript-string">&quot;rm -rf $TMPROOT $VARROOT &amp;&amp; exit&quot;</span> 0 2

TFILE=$TMPROOT/data
IFILE=$TMPROOT/ifile
TDIR1=$TMPROOT/0/1/2/3/4/5/6/7/8/9
TDIR2=$TMPROOT/1/2/3/4/5/6/7/8/9/0
VFILE=$VARROOT/data
VDIR1=$VARROOT/0/1/2/3/4/5/6/7/8/9
VDIR2=$VARROOT/1/2/3/4/5/6/7/8/9/0


OPTS=<span class="enscript-string">&quot;-E -C 200 -L -S -W&quot;</span>

dd <span class="enscript-keyword">if</span>=/dev/zero of=$TFILE bs=1024k count=10 2&gt;/dev/null
dd <span class="enscript-keyword">if</span>=/dev/zero of=$VFILE bs=1024k count=10 2&gt;/dev/null
mkdir -p $TDIR1 $TDIR2
mkdir -p $VDIR1 $VDIR2

touch $IFILE
/usr/bin/touch /private/var/tmp/lmbench


<span class="enscript-comment"># produce benchmark header for easier comparisons
</span>
hostname=`uname -n`

<span class="enscript-keyword">if</span> [ -f /usr/sbin/psrinfo ]; <span class="enscript-keyword">then</span>
	p_count=`psrinfo|wc -l`
	p_mhz=`psrinfo -v | awk '/operates/{print $6 <span class="enscript-string">&quot;MHz&quot;</span>; <span class="enscript-keyword">exit</span> }'`
	p_type=`psrinfo -vp 2&gt;/dev/null | awk '{<span class="enscript-keyword">if</span> (NR == 3) {print $0; <span class="enscript-keyword">exit</span>}}'` 
	p_ipaddr=`getent hosts $hostname | awk '{print $1}'`
<span class="enscript-keyword">fi</span>

<span class="enscript-keyword">if</span> [ -f /proc/cpuinfo ]; <span class="enscript-keyword">then</span>
	p_count=`egrep processor /proc/cpuinfo | wc -l`
	p_mhz=`awk -F: '/cpu MHz/{printf(<span class="enscript-string">&quot;%5.0f00Mhz\n&quot;</span>,$2/100); <span class="enscript-keyword">exit</span>}' /proc/cpuinfo`
	p_type=`awk -F: '/model name/{print $2; <span class="enscript-keyword">exit</span>}' /proc/cpuinfo`
	p_ipaddr=`getent hosts $hostname | awk '{print $1}'`
<span class="enscript-keyword">else</span>
<span class="enscript-comment">## Mac OS X specific stuff
</span><span class="enscript-comment"># first, get ugly output, in case pretty output isn't available
</span><span class="enscript-comment">#
</span>	p_count=`sysctl -n hw.physicalcpu`
	p_mhz=`sysctl -n hw.cpufrequency`
	p_type=`sysctl -n hw.model`

<span class="enscript-keyword">if</span> [ -x /usr/sbin/system_profiler ]; <span class="enscript-keyword">then</span>
	<span class="enscript-comment"># &lt;rdar://4655981&gt; requires this hunk of work-around
</span>	<span class="enscript-comment"># grep the XML for the characteristic we need. The key appears twice, so grep for the useful key (with 'string')
</span>	<span class="enscript-comment"># use sed to strip off the &lt;string&gt;&lt;/string&gt; and the tabs in front of the string.  So much work for so little result.
</span>	<span class="enscript-comment">#
</span>		p_mhz=`system_profiler -xml -detailLevel mini SPHardwareDataType | \
			grep -A1 current_processor_speed | grep string | \
			sed -E 's/&lt;string&gt;(.+)&lt;\/string&gt;/\1/' | sed 's-	--g'`
		p_type=`system_profiler -xml -detailLevel mini SPHardwareDataType | \
			grep -A1 cpu_type | grep string | \
			sed -E 's/&lt;string&gt;(.+)&lt;\/string&gt;/\1/' | sed 's-	--g'`
<span class="enscript-keyword">fi</span>

<span class="enscript-comment"># look for en0 (usually ethernet) if that isn't there try en1 (usually wireless) else give up
</span>	p_ipaddr=`ipconfig getpacket en0 | grep yiaddr | tr <span class="enscript-string">&quot;= &quot;</span> <span class="enscript-string">&quot;\n&quot;</span> | grep [0-9]`
	<span class="enscript-keyword">if</span> [ ! $p_ipaddr  ]; <span class="enscript-keyword">then</span>
		p_ipaddr=`ipconfig getpacket en1 | grep yiaddr | tr <span class="enscript-string">&quot;= &quot;</span> <span class="enscript-string">&quot;\n&quot;</span> | grep [0-9]`
	elif [ ! $p_ipaddr ]; <span class="enscript-keyword">then</span>
		p_ipaddr=<span class="enscript-string">&quot;unknown&quot;</span>
	<span class="enscript-keyword">fi</span>
<span class="enscript-keyword">fi</span>

printf <span class="enscript-string">&quot;\n\n!Libmicro_#:   %30s\n&quot;</span> $libmicro_version
printf <span class="enscript-string">&quot;!Options:      %30s\n&quot;</span> <span class="enscript-string">&quot;$OPTS&quot;</span>
printf <span class="enscript-string">&quot;!Machine_name: %30s\n&quot;</span> <span class="enscript-string">&quot;$hostname&quot;</span>
printf <span class="enscript-string">&quot;!OS_name:      %30s\n&quot;</span> `uname -s`
printf <span class="enscript-string">&quot;!OS_release:   %30s\n&quot;</span> `sw_vers -productVersion`
printf <span class="enscript-string">&quot;!OS_build:     %30.18s\n&quot;</span> <span class="enscript-string">&quot;`sw_vers -buildVersion`&quot;</span>
printf <span class="enscript-string">&quot;!Kernel:       %30.50s\n&quot;</span> <span class="enscript-string">&quot;`uname -v|cut -d ' ' -f 11`&quot;</span>
printf <span class="enscript-string">&quot;!Processor:    %30s\n&quot;</span> `arch`
printf <span class="enscript-string">&quot;!#CPUs:        %30s\n&quot;</span> $p_count
printf <span class="enscript-string">&quot;!CPU_MHz:      %30s\n&quot;</span> <span class="enscript-string">&quot;$p_mhz&quot;</span>
printf <span class="enscript-string">&quot;!CPU_NAME:     %30s\n&quot;</span> <span class="enscript-string">&quot;$p_type&quot;</span>
printf <span class="enscript-string">&quot;!IP_address:   %30s\n&quot;</span> <span class="enscript-string">&quot;$p_ipaddr&quot;</span>
printf <span class="enscript-string">&quot;!Run_by:       %30s\n&quot;</span> $LOGNAME
printf <span class="enscript-string">&quot;!Date:	       %30s\n&quot;</span> <span class="enscript-string">&quot;`date '+%D %R'`&quot;</span>
printf <span class="enscript-string">&quot;!Compiler:     %30s\n&quot;</span> `$tattle -c`
printf <span class="enscript-string">&quot;!Compiler Ver.:%30s\n&quot;</span> <span class="enscript-string">&quot;`$tattle -v`&quot;</span>
printf <span class="enscript-string">&quot;!sizeof(long): %30s\n&quot;</span> `$tattle -s`
printf <span class="enscript-string">&quot;!extra_CFLAGS: %30s\n&quot;</span> <span class="enscript-string">&quot;`$tattle -f`&quot;</span>
printf <span class="enscript-string">&quot;!TimerRes:     %30s\n\n\n&quot;</span> <span class="enscript-string">&quot;`$tattle -r`&quot;</span>
 
bin_dir=<span class="enscript-string">&quot;$TMPROOT/bin&quot;</span>

mkdir -p $bin_dir
cp bin-*/exec_bin $bin_dir/$A

cp ./apple/bin-*/posix_spawn_bin $bin_dir/$A

newline=0

<span class="enscript-comment">#
</span><span class="enscript-comment"># Everything below the while loop is input for the while loop if
</span><span class="enscript-comment"># you have any tests which can't run in the while loop, put
</span><span class="enscript-comment"># them above this comment
</span><span class="enscript-comment">#
</span><span class="enscript-keyword">while</span> <span class="enscript-keyword">read</span> A B
<span class="enscript-keyword">do</span>
	<span class="enscript-comment"># $A contains the command, $B contains the arguments
</span>	<span class="enscript-comment"># we echo blank lines and comments
</span>	<span class="enscript-comment"># we skip anything which fails to match *$1* (useful if
</span>	<span class="enscript-comment"># we only want to test one case, but a nasty hack)
</span>
	<span class="enscript-keyword">case</span> $A <span class="enscript-keyword">in</span>
	\<span class="enscript-comment">#*)
</span>		<span class="enscript-keyword">echo</span> <span class="enscript-string">&quot;$A $B&quot;</span>
		newline=1
		<span class="enscript-keyword">continue</span>
		;;
	
	<span class="enscript-string">&quot;&quot;</span>)
		<span class="enscript-keyword">if</span> [ $newline -eq 1 ]
		<span class="enscript-keyword">then</span>
			newline=0
			<span class="enscript-keyword">echo</span>
			<span class="enscript-keyword">echo</span>
		<span class="enscript-keyword">fi</span>

		<span class="enscript-keyword">continue</span>
		;;

	*$1*)
		<span class="enscript-comment"># Default execution without the lmbench tests. 
</span>		<span class="enscript-comment"># checks if there is no argument passed by the user.
</span>		<span class="enscript-keyword">if</span> [  $lmbench -eq 0 ]
		<span class="enscript-keyword">then</span>
			string=lmbench
			<span class="enscript-keyword">if</span> [ <span class="enscript-string">&quot;${A:0:7}&quot;</span> == <span class="enscript-string">&quot;$string&quot;</span> ]
			<span class="enscript-keyword">then</span>
				<span class="enscript-keyword">continue</span>
			<span class="enscript-keyword">fi</span>
		<span class="enscript-keyword">fi</span>
			
		;;
	
	*)		
		<span class="enscript-keyword">if</span> [ $lmbench -ne 1 ]
		<span class="enscript-keyword">then</span>
			<span class="enscript-keyword">continue</span>
		<span class="enscript-keyword">fi</span>
		;;
	<span class="enscript-keyword">esac</span>

	<span class="enscript-keyword">if</span> [ ! -f $bin_dir/$A ]
	<span class="enscript-keyword">then</span>
		cp bin-*/$A $bin_dir/$A
	<span class="enscript-keyword">fi</span>

	<span class="enscript-keyword">echo</span>

	(<span class="enscript-keyword">cd</span> $TMPROOT &amp;&amp; <span class="enscript-keyword">eval</span> <span class="enscript-string">&quot;bin/$A $B&quot;</span>)

	<span class="enscript-keyword">echo</span>
	<span class="enscript-keyword">echo</span>
<span class="enscript-keyword">done</span> &lt;&lt;.

<span class="enscript-comment">#
</span><span class="enscript-comment"># Obligatory null system call: use very short time
</span><span class="enscript-comment"># for default since SuSe implements this &quot;syscall&quot; in userland
</span><span class="enscript-comment">#
</span>
getpid		$OPTS -N <span class="enscript-string">&quot;getpid&quot;</span> -I 5
getppid		$OPTS -N <span class="enscript-string">&quot;getppid&quot;</span> -I 5

getenv		$OPTS -N <span class="enscript-string">&quot;getenv&quot;</span>	-s 100 -I 100	 
getenv		$OPTS -N <span class="enscript-string">&quot;getenvT2&quot;</span>	-s 100 -I 100	-T 2 

gettimeofday	$OPTS -N <span class="enscript-string">&quot;gettimeofday&quot;</span>          

log		$OPTS -N <span class="enscript-string">&quot;log&quot;</span>	-I 20	-B 300000	 
exp		$OPTS -N <span class="enscript-string">&quot;exp&quot;</span>	-I 20	-B 100000	 
lrand48		$OPTS -N <span class="enscript-string">&quot;lrand48&quot;</span>

memset		$OPTS -N <span class="enscript-string">&quot;memset_10&quot;</span>	-s 10	-I 10 
memset		$OPTS -N <span class="enscript-string">&quot;memset_256&quot;</span>	-s 256	-I 20
memset		$OPTS -N <span class="enscript-string">&quot;memset_256_u&quot;</span>	-s 256	 -a 1 -I 20 
memset		$OPTS -N <span class="enscript-string">&quot;memset_1k&quot;</span>	-s 1k	 -I 100 -B 2000
memset		$OPTS -N <span class="enscript-string">&quot;memset_4k&quot;</span>    -s 4k    -I 250 -B 500
memset		$OPTS -N <span class="enscript-string">&quot;memset_4k_uc&quot;</span> -s 4k    -u -I 400

memset		$OPTS -N <span class="enscript-string">&quot;memset_10k&quot;</span>	-s 10k	-I 600 -B 500
memset		$OPTS -N <span class="enscript-string">&quot;memset_1m&quot;</span>	-s 1m	-I 200000
memset		$OPTS -N <span class="enscript-string">&quot;memset_10m&quot;</span>	-s 10m -I 2000000 
memset		$OPTS -N <span class="enscript-string">&quot;memsetP2_10m&quot;</span>	-s 10m -P 2 -I 2000000 

memrand		$OPTS -N <span class="enscript-string">&quot;memrand&quot;</span>	-s 40m -B 10000

<span class="enscript-comment"># This is an elided test and is not ported yet.
</span><span class="enscript-comment"># Check Makefile.darwin for list of elided tests  
</span><span class="enscript-comment"># cachetocache	$OPTS -N &quot;cachetocache&quot; -s 100k -T 2 -I 200
</span>
isatty		$OPTS -N <span class="enscript-string">&quot;isatty_yes&quot;</span>   
isatty		$OPTS -N <span class="enscript-string">&quot;isatty_no&quot;</span>  -f $IFILE

malloc		$OPTS -N <span class="enscript-string">&quot;malloc_10&quot;</span>    -s 10    -g 10 -I 50
malloc		$OPTS -N <span class="enscript-string">&quot;malloc_100&quot;</span>   -s 100   -g 10 -I 50
malloc		$OPTS -N <span class="enscript-string">&quot;malloc_1k&quot;</span>    -s 1k    -g 10 -I 50
malloc		$OPTS -N <span class="enscript-string">&quot;malloc_10k&quot;</span>   -s 10k   -g 10 -I 50
malloc		$OPTS -N <span class="enscript-string">&quot;malloc_100k&quot;</span>  -s 100k  -g 10 -I 2000

malloc		$OPTS -N <span class="enscript-string">&quot;mallocT2_10&quot;</span>    -s 10   -g 10 -T 2 -I 200
malloc		$OPTS -N <span class="enscript-string">&quot;mallocT2_100&quot;</span>   -s 100  -g 10 -T 2 -I 200
malloc		$OPTS -N <span class="enscript-string">&quot;mallocT2_1k&quot;</span>    -s 1k   -g 10 -T 2 -I 200
malloc		$OPTS -N <span class="enscript-string">&quot;mallocT2_10k&quot;</span>   -s 10k  -g 10 -T 2 -I 200
malloc		$OPTS -N <span class="enscript-string">&quot;mallocT2_100k&quot;</span>  -s 100k -g 10 -T 2 -I 10000

close		$OPTS -N <span class="enscript-string">&quot;close_bad&quot;</span>		-B 96		-b
close		$OPTS -N <span class="enscript-string">&quot;close_tmp&quot;</span>		-B 64		-f $TFILE
close		$OPTS -N <span class="enscript-string">&quot;close_usr&quot;</span>		-B 64		-f $VFILE
close		$OPTS -N <span class="enscript-string">&quot;close_zero&quot;</span>		-B 64		-f /dev/zero
close_tcp	$OPTS -N <span class="enscript-string">&quot;close_tcp&quot;</span>		-B 32  

memcpy		$OPTS -N <span class="enscript-string">&quot;memcpy_10&quot;</span>	-s 10	-I 10 
memcpy		$OPTS -N <span class="enscript-string">&quot;memcpy_1k&quot;</span>	-s 1k	-I 50
memcpy		$OPTS -N <span class="enscript-string">&quot;memcpy_10k&quot;</span>	-s 10k	-I 800
memcpy		$OPTS -N <span class="enscript-string">&quot;memcpy_1m&quot;</span>	-s 1m   -I 500000
memcpy		$OPTS -N <span class="enscript-string">&quot;memcpy_10m&quot;</span>	-s 10m  -I 5000000

strcpy		$OPTS -N <span class="enscript-string">&quot;strcpy_10&quot;</span>	-s 10   -I 5 
strcpy		$OPTS -N <span class="enscript-string">&quot;strcpy_1k&quot;</span>	-s 1k   -I 100

strlen		$OPTS -N <span class="enscript-string">&quot;strlen_10&quot;</span>	-s 10   -I 5
strlen		$OPTS -N <span class="enscript-string">&quot;strlen_1k&quot;</span>	-s 1k   -I 100

strchr		$OPTS -N <span class="enscript-string">&quot;strchr_10&quot;</span>	-s 10   -I 5
strchr		$OPTS -N <span class="enscript-string">&quot;strchr_1k&quot;</span>	-s 1k   -I 200
strcmp		$OPTS -N <span class="enscript-string">&quot;strcmp_10&quot;</span>	-s 10   -I 10
strcmp		$OPTS -N <span class="enscript-string">&quot;strcmp_1k&quot;</span>	-s 1k   -I 200

strcasecmp	$OPTS -N <span class="enscript-string">&quot;scasecmp_10&quot;</span>	-s 10 -I 50 -B 2000
strcasecmp	$OPTS -N <span class="enscript-string">&quot;scasecmp_1k&quot;</span>	-s 1k -I 20000 -B 100

strtol		$OPTS -N <span class="enscript-string">&quot;strtol&quot;</span>      -I 20      

<span class="enscript-comment"># This is an elided test and is not ported yet.     
</span><span class="enscript-comment"># Check Makefile.darwin for list of elided tests
</span><span class="enscript-comment"># getcontext	$OPTS -N &quot;getcontext&quot;  -I 100
</span>
<span class="enscript-comment"># This is an elided test and is not ported yet.     
</span><span class="enscript-comment"># Check Makefile.darwin for list of elided tests
</span><span class="enscript-comment"># setcontext	$OPTS -N &quot;setcontext&quot;  -I 100
</span>
mutex		$OPTS -N <span class="enscript-string">&quot;mutex_st&quot;</span>	-I 10
mutex		$OPTS -N <span class="enscript-string">&quot;mutex_mt&quot;</span>	-t -I 10	
mutex		$OPTS -N <span class="enscript-string">&quot;mutex_T2&quot;</span>     -T 2  -I 100

longjmp		$OPTS -N <span class="enscript-string">&quot;longjmp&quot;</span>	-I 10
siglongjmp	$OPTS -N <span class="enscript-string">&quot;siglongjmp&quot;</span>	-I 20

getrusage	$OPTS -N <span class="enscript-string">&quot;getrusage&quot;</span>	-I 200

<span class="enscript-keyword">times</span>		$OPTS -N <span class="enscript-string">&quot;times&quot;</span>	-I 200
time		$OPTS -N <span class="enscript-string">&quot;time&quot;</span>		-I 50
localtime_r	$OPTS -N <span class="enscript-string">&quot;localtime_r&quot;</span>	-I 200  
strftime	$OPTS -N <span class="enscript-string">&quot;strftime&quot;</span> -I 10000 -B 100 

mktime		$OPTS -N <span class="enscript-string">&quot;mktime&quot;</span>       -I 500   
mktime		$OPTS -N <span class="enscript-string">&quot;mktimeT2&quot;</span> -T 2 -I 1000 

cascade_mutex	$OPTS -N <span class="enscript-string">&quot;c_mutex_1&quot;</span>	-I 50
cascade_mutex	$OPTS -N <span class="enscript-string">&quot;c_mutex_10&quot;</span>	-T 10 -I 5000
cascade_mutex	$OPTS -N <span class="enscript-string">&quot;c_mutex_200&quot;</span>	-T 200	-I 2000000

cascade_cond	$OPTS -N <span class="enscript-string">&quot;c_cond_1&quot;</span>	-I 100
cascade_cond	$OPTS -N <span class="enscript-string">&quot;c_cond_10&quot;</span>	-T 10	-I 3000
cascade_cond	$OPTS -N <span class="enscript-string">&quot;c_cond_200&quot;</span>	-T 200	-I 2000000

cascade_lockf	$OPTS -N <span class="enscript-string">&quot;c_lockf_1&quot;</span>	-I 1000	
cascade_lockf	$OPTS -N <span class="enscript-string">&quot;c_lockf_10&quot;</span>	-P 10 -I 50000
cascade_lockf	$OPTS -N <span class="enscript-string">&quot;c_lockf_200&quot;</span>	-P 200 -I 5000000

cascade_flock	$OPTS -N <span class="enscript-string">&quot;c_flock&quot;</span>	-I 1000	
cascade_flock	$OPTS -N <span class="enscript-string">&quot;c_flock_10&quot;</span>	-P 10   -I 50000
cascade_flock	$OPTS -N <span class="enscript-string">&quot;c_flock_200&quot;</span>	-P 200	-I 5000000

cascade_fcntl	$OPTS -N <span class="enscript-string">&quot;c_fcntl_1&quot;</span>	-I 2000 	
cascade_fcntl	$OPTS -N <span class="enscript-string">&quot;c_fcntl_10&quot;</span>	-P 10 -I 20000
cascade_fcntl	$OPTS -N <span class="enscript-string">&quot;c_fcntl_200&quot;</span>	-P 200	-I 5000000

file_lock	$OPTS -N <span class="enscript-string">&quot;file_lock&quot;</span>   -I 1000         

getsockname	$OPTS -N <span class="enscript-string">&quot;getsockname&quot;</span>	-I 100
getpeername	$OPTS -N <span class="enscript-string">&quot;getpeername&quot;</span>	-I 100

chdir		$OPTS -N <span class="enscript-string">&quot;chdir_tmp&quot;</span>	-I 2000		$TDIR1 $TDIR2
chdir		$OPTS -N <span class="enscript-string">&quot;chdir_usr&quot;</span>	-I 2000		$VDIR1 $VDIR2

chdir		$OPTS -N <span class="enscript-string">&quot;chgetwd_tmp&quot;</span>	-I 3000	-g $TDIR1 $TDIR2
chdir		$OPTS -N <span class="enscript-string">&quot;chgetwd_usr&quot;</span>	-I 3000	-g $VDIR1 $VDIR2

realpath	$OPTS -N <span class="enscript-string">&quot;realpath_tmp&quot;</span> -I 3000		-f $TDIR1
realpath	$OPTS -N <span class="enscript-string">&quot;realpath_usr&quot;</span>	-I 3000	-f $VDIR1

stat		$OPTS -N <span class="enscript-string">&quot;stat_tmp&quot;</span> -I 1000		-f $TFILE
stat		$OPTS -N <span class="enscript-string">&quot;stat_usr&quot;</span> -I 1000		-f $VFILE

lmbench_stat		$OPTS -N <span class="enscript-string">&quot;lmbench_stat_tmp&quot;</span> -I 1000		-f $TFILE
lmbench_stat		$OPTS -N <span class="enscript-string">&quot;lmbench_stat_usr&quot;</span> -I 10000 -B 100		-f /private/var/tmp/lmbench

<span class="enscript-comment">#
</span><span class="enscript-comment"># lmbench uses a touched empty file in /private/var/tmp
</span><span class="enscript-comment"># libMicro uses a 1M file in a directory off /private/var/tmp
</span><span class="enscript-comment"># performance difference is ~ 0.2 usecs/call
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># why? - walking the dir tree, empty file vs. non-empty file, non-empty dir
</span><span class="enscript-comment"># in the case of libMicro, etc., etc.
</span><span class="enscript-comment">#
</span>
lmbench_stat		$OPTS -N <span class="enscript-string">&quot;lmbench_stat_usr - Default&quot;</span> -I 10000 -B 100	-f /private/var/tmp/lmbench

lmbench_fstat		$OPTS -N <span class="enscript-string">&quot;lmbench_fstat_tmp&quot;</span> -I 1000		-f $TFILE
lmbench_fstat		$OPTS -N <span class="enscript-string">&quot;lmbench_fstat_usr&quot;</span> -I 10000 -B 100		-f /private/var/tmp/lmbench

<span class="enscript-comment"># see stat test to understand why we are using /private/var/tmp/lmbench
</span>
lmbench_fstat		$OPTS -N <span class="enscript-string">&quot;lmbench_fstat_usr - Default&quot;</span> -I 10000 -B 100	-f /private/var/tmp/lmbench

lmbench_openclose	$OPTS -N <span class="enscript-string">&quot;lmbench_openclose - Default&quot;</span> -I 10000 -B 100	-f /private/var/tmp/lmbench

lmbench_select_file $OPTS -N <span class="enscript-string">&quot;lmbench_select_file_10&quot;</span>  -n 10  -B 100
lmbench_select_file $OPTS -N <span class="enscript-string">&quot;lmbench_select_file_100&quot;</span> -n 100 -B 100
lmbench_select_file $OPTS -N <span class="enscript-string">&quot;lmbench_select_file_250&quot;</span> -n 250 -B 100
lmbench_select_file $OPTS -N <span class="enscript-string">&quot;lmbench_select_file_500&quot;</span> -n 500 -B 100

lmbench_select_tcp $OPTS -N <span class="enscript-string">&quot;lmbench_select_tcp_10&quot;</span>  -n 10  -B 100
lmbench_select_tcp $OPTS -N <span class="enscript-string">&quot;lmbench_select_tcp_100&quot;</span> -n 100 -B 100
lmbench_select_tcp $OPTS -N <span class="enscript-string">&quot;lmbench_select_tcp_250&quot;</span> -n 250 -B 100
lmbench_select_tcp $OPTS -N <span class="enscript-string">&quot;lmbench_select_tcp_500&quot;</span> -n 500 -B 100

fcntl		$OPTS -N <span class="enscript-string">&quot;fcntl_tmp&quot;</span>	-I 100	-f $TFILE
fcntl		$OPTS -N <span class="enscript-string">&quot;fcntl_usr&quot;</span>	-I 100	-f $VFILE
fcntl_ndelay	$OPTS -N <span class="enscript-string">&quot;fcntl_ndelay&quot;</span>	-I 100	

lseek		$OPTS -N <span class="enscript-string">&quot;lseek_t8k&quot;</span>	-s 8k	-I 50	-f $TFILE
lseek		$OPTS -N <span class="enscript-string">&quot;lseek_u8k&quot;</span>	-s 8k	-I 50	-f $VFILE

open		$OPTS -N <span class="enscript-string">&quot;open_tmp&quot;</span>		-B 256		-f $TFILE
open		$OPTS -N <span class="enscript-string">&quot;open_usr&quot;</span>		-B 256		-f $VFILE
open		$OPTS -N <span class="enscript-string">&quot;open_zero&quot;</span>		-B 256		-f /dev/zero

dup		$OPTS -N <span class="enscript-string">&quot;dup&quot;</span>			-B 512   

socket		$OPTS -N <span class="enscript-string">&quot;socket_u&quot;</span>		-B 256
socket		$OPTS -N <span class="enscript-string">&quot;socket_i&quot;</span>		-B 256		-f PF_INET

socketpair	$OPTS -N <span class="enscript-string">&quot;socketpair&quot;</span>		-B 256

setsockopt	$OPTS -N <span class="enscript-string">&quot;setsockopt&quot;</span>		-I 200

bind		$OPTS -N <span class="enscript-string">&quot;bind&quot;</span>			-B 100

listen		$OPTS -N <span class="enscript-string">&quot;listen&quot;</span>		-B 100

<span class="enscript-comment">#connection	$OPTS -N &quot;connection&quot;		-B 256 
</span>
poll		$OPTS -N <span class="enscript-string">&quot;poll_10&quot;</span>	-n 10	-I 500
poll		$OPTS -N <span class="enscript-string">&quot;poll_100&quot;</span>	-n 100	-I 1000
poll		$OPTS -N <span class="enscript-string">&quot;poll_1000&quot;</span>	-n 1000	-I 5000

poll		$OPTS -N <span class="enscript-string">&quot;poll_w10&quot;</span>	-n 10	-I 500		-w 1
poll		$OPTS -N <span class="enscript-string">&quot;poll_w100&quot;</span>	-n 100	-I 2000		-w 10
poll		$OPTS -N <span class="enscript-string">&quot;poll_w1000&quot;</span>	-n 1000	-I 40000	-w 100

select		$OPTS -N <span class="enscript-string">&quot;select_10&quot;</span>	-n 10	-I 500
select		$OPTS -N <span class="enscript-string">&quot;select_100&quot;</span>	-n 100	-I 1000
select		$OPTS -N <span class="enscript-string">&quot;select_1000&quot;</span>	-n 1000	-I 5000

select		$OPTS -N <span class="enscript-string">&quot;select_w10&quot;</span>	-n 10	-I 500		-w 1
select		$OPTS -N <span class="enscript-string">&quot;select_w100&quot;</span>	-n 100	-I 2000		-w 10
select		$OPTS -N <span class="enscript-string">&quot;select_w1000&quot;</span>	-n 1000	-I 40000        -w 100

semop		$OPTS -N <span class="enscript-string">&quot;semop&quot;</span> -I 200

sigaction	$OPTS -N <span class="enscript-string">&quot;sigaction&quot;</span> -I 100
signal		$OPTS -N <span class="enscript-string">&quot;signal&quot;</span> -I 1000
sigprocmask	$OPTS -N <span class="enscript-string">&quot;sigprocmask&quot;</span> -I 200

lmbench_lat_sig_install	$OPTS -N <span class="enscript-string">&quot;lmbench_siginstall&quot;</span>
<span class="enscript-comment"># sigcatch and sigsend need to be evaluated together
</span><span class="enscript-comment"># lmbench framework will allow multiple measurements within the same
</span><span class="enscript-comment"># benchmark test which allow them to factor out the cost of sending
</span><span class="enscript-comment"># a signal from catching one
</span><span class="enscript-comment">#
</span><span class="enscript-comment"># for our purposes sigcatch results - sigsend results yield
</span><span class="enscript-comment"># lmbench sig handler overhead measurements
</span>lmbench_lat_sig_catch	$OPTS -N <span class="enscript-string">&quot;lmbench_sigcatch&quot;</span> 
lmbench_lat_sig_send	$OPTS -N <span class="enscript-string">&quot;lmbench_sigsend&quot;</span> 


pthread_create  $OPTS -N <span class="enscript-string">&quot;pthread_8&quot;</span>		-B 8
pthread_create  $OPTS -N <span class="enscript-string">&quot;pthread_32&quot;</span>		-B 32
pthread_create  $OPTS -N <span class="enscript-string">&quot;pthread_128&quot;</span>		-B 128
pthread_create  $OPTS -N <span class="enscript-string">&quot;pthread_512&quot;</span>		-B 512

fork		$OPTS -N <span class="enscript-string">&quot;fork_10&quot;</span>		-B 10
fork		$OPTS -N <span class="enscript-string">&quot;fork_100&quot;</span>		-B 100  -C 100

<span class="enscript-comment">#fork		$OPTS -N &quot;fork_1000&quot;		-B 1000 -C 50
</span>
<span class="enscript-keyword">exit</span>		$OPTS -N <span class="enscript-string">&quot;exit_10&quot;</span>		-B 10
<span class="enscript-keyword">exit</span>		$OPTS -N <span class="enscript-string">&quot;exit_100&quot;</span>		-B 100

<span class="enscript-comment">#exit		$OPTS -N &quot;exit_1000&quot;		-B 1000 -C 50
</span>
<span class="enscript-keyword">exit</span>		$OPTS -N <span class="enscript-string">&quot;exit_10_nolibc&quot;</span>	-e -B 10

<span class="enscript-keyword">exec</span>		$OPTS -N <span class="enscript-string">&quot;exec&quot;</span> -B 10

posix_spawn	$OPTS -N <span class="enscript-string">&quot;posix_spawn&quot;</span> -B 10

system		$OPTS -N <span class="enscript-string">&quot;system&quot;</span> -I 1000000

recurse		$OPTS -N <span class="enscript-string">&quot;recurse&quot;</span>		-B 512

<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_t1k&quot;</span>	-s 1k -B 50			-f $TFILE
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_t10k&quot;</span>	-s 10k	-B 16		-f $TFILE
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_t100k&quot;</span>	-s 100k	-B 4		-f $TFILE

<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_u1k&quot;</span>	-s 1k	-B 50		-f $VFILE
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_u10k&quot;</span>	-s 10k	-B 16		-f $VFILE
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_u100k&quot;</span>	-s 100k	-B 4		-f $VFILE

<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_z1k&quot;</span>	-s 1k	-B 100		-f /dev/zero 
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_z10k&quot;</span>	-s 10k	-B 30		-f /dev/zero 
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_z100k&quot;</span>	-s 100k	-B 4		-f /dev/zero 
<span class="enscript-keyword">read</span>		$OPTS -N <span class="enscript-string">&quot;read_zw100k&quot;</span>	-s 100k	-B 4         -w	-f /dev/zero 

lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_t1b&quot;</span>	-s 1 -B 50			-f $TFILE
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_t1k&quot;</span>	-s 1k -B 50			-f $TFILE
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_t10k&quot;</span>	-s 10k	-B 16		-f $TFILE
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_t100k&quot;</span>	-s 100k	-B 4		-f $TFILE

lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_u1b&quot;</span>	-s 1	-B 50		-f $VFILE
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_u1k&quot;</span>	-s 1k	-B 50		-f $VFILE
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_u10k&quot;</span>	-s 10k	-B 16		-f $VFILE
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_u100k&quot;</span>	-s 100k	-B 4		-f $VFILE

lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_z1b - Default&quot;</span>	-s 1	-B 100		-f /dev/zero 
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_z1k&quot;</span>	-s 1k	-B 100		-f /dev/zero 
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_z10k&quot;</span>	-s 10k	-B 30		-f /dev/zero 
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_z100k&quot;</span>	-s 100k	-B 4		-f /dev/zero 
lmbench_read		$OPTS -N <span class="enscript-string">&quot;read_zw100k&quot;</span>	-s 100k	-B 4         -w	-f /dev/zero 

write		$OPTS -N <span class="enscript-string">&quot;write_t1k&quot;</span>	-s 1k	-B 50		-f $TFILE
write		$OPTS -N <span class="enscript-string">&quot;write_t10k&quot;</span>	-s 10k	-B 25		-f $TFILE
write		$OPTS -N <span class="enscript-string">&quot;write_t100k&quot;</span>	-s 100k	-B 4		-f $TFILE

write		$OPTS -N <span class="enscript-string">&quot;write_u1k&quot;</span>	-s 1k	-B 50		-f $VFILE
write		$OPTS -N <span class="enscript-string">&quot;write_u10k&quot;</span>	-s 10k	-B 25		-f $VFILE
write		$OPTS -N <span class="enscript-string">&quot;write_u100k&quot;</span>	-s 100k	-B 4		-f $VFILE

write		$OPTS -N <span class="enscript-string">&quot;write_n1k&quot;</span>	-s 1k	-I 100 -B 0	-f /dev/null 
write		$OPTS -N <span class="enscript-string">&quot;write_n10k&quot;</span>	-s 10k	-I 100 -B 0	-f /dev/null 
write		$OPTS -N <span class="enscript-string">&quot;write_n100k&quot;</span>	-s 100k	-I 100 -B 0	-f /dev/null 

lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_t1b&quot;</span>	-s 1	-B 50		-f $TFILE
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_t1k&quot;</span>	-s 1k	-B 50		-f $TFILE
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_t10k&quot;</span>	-s 10k	-B 25		-f $TFILE
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_t100k&quot;</span>	-s 100k	-B 4		-f $TFILE

lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_u1b&quot;</span>	-s 1	-B 50		-f $VFILE
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_u1k&quot;</span>	-s 1k	-B 50		-f $VFILE
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_u10k&quot;</span>	-s 10k	-B 25		-f $VFILE
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_u100k&quot;</span>	-s 100k	-B 4		-f $VFILE

lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_n1b - Default&quot;</span>	-s 1	-I 100 -B 0	-f /dev/null 
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_n1k&quot;</span>	-s 1k	-I 100 -B 0	-f /dev/null 
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_n10k&quot;</span>	-s 10k	-I 100 -B 0	-f /dev/null 
lmbench_write		$OPTS -N <span class="enscript-string">&quot;lmbench_write_n100k&quot;</span>	-s 100k	-I 100 -B 0	-f /dev/null 

writev		$OPTS -N <span class="enscript-string">&quot;writev_t1k&quot;</span>	-s 1k	-B 20		-f $TFILE
writev		$OPTS -N <span class="enscript-string">&quot;writev_t10k&quot;</span>	-s 10k	-B 4	        -f $TFILE
writev		$OPTS -N <span class="enscript-string">&quot;writev_t100k&quot;</span>	-s 100k			-f $TFILE

writev		$OPTS -N <span class="enscript-string">&quot;writev_u1k&quot;</span>	-s 1k	-B 20		-f $VFILE
writev		$OPTS -N <span class="enscript-string">&quot;writev_u10k&quot;</span>	-s 10k	-B 4		-f $VFILE
writev		$OPTS -N <span class="enscript-string">&quot;writev_u100k&quot;</span>	-s 100k			-f $VFILE

writev		$OPTS -N <span class="enscript-string">&quot;writev_n1k&quot;</span>	-s 1k	-I 100 -B 0	-f /dev/null 
writev		$OPTS -N <span class="enscript-string">&quot;writev_n10k&quot;</span>	-s 10k	-I 100 -B 0	-f /dev/null 
writev		$OPTS -N <span class="enscript-string">&quot;writev_n100k&quot;</span>	-s 100k	-I 100 -B 0	-f /dev/null 

pread		$OPTS -N <span class="enscript-string">&quot;pread_t1k&quot;</span>	-s 1k	-I 300		-f $TFILE
pread		$OPTS -N <span class="enscript-string">&quot;pread_t10k&quot;</span>	-s 10k	-I 1000		-f $TFILE
pread		$OPTS -N <span class="enscript-string">&quot;pread_t100k&quot;</span>	-s 100k	-I 10000	-f $TFILE

pread		$OPTS -N <span class="enscript-string">&quot;pread_u1k&quot;</span>	-s 1k	-I 300		-f $VFILE
pread		$OPTS -N <span class="enscript-string">&quot;pread_u10k&quot;</span>	-s 10k	-I 1000		-f $VFILE
pread		$OPTS -N <span class="enscript-string">&quot;pread_u100k&quot;</span>	-s 100k	-I 10000	-f $VFILE

pread		$OPTS -N <span class="enscript-string">&quot;pread_z1k&quot;</span>	-s 1k	-I 300		-f /dev/zero 
pread		$OPTS -N <span class="enscript-string">&quot;pread_z10k&quot;</span>	-s 10k	-I 1000		-f /dev/zero 
pread		$OPTS -N <span class="enscript-string">&quot;pread_z100k&quot;</span>	-s 100k	-I 2000	-f /dev/zero 
pread		$OPTS -N <span class="enscript-string">&quot;pread_zw100k&quot;</span>	-s 100k	-w -I 10000	-f /dev/zero 

pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_t1k&quot;</span>	-s 1k	-I 500		-f $TFILE
pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_t10k&quot;</span>	-s 10k	-I 1000		-f $TFILE
pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_t100k&quot;</span>	-s 100k	-I 10000	-f $TFILE

pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_u1k&quot;</span>	-s 1k	-I 500		-f $VFILE
pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_u10k&quot;</span>	-s 10k	-I 1000		-f $VFILE
pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_u100k&quot;</span>	-s 100k	-I 20000	-f $VFILE

pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_n1k&quot;</span>	-s 1k	-I 100		-f /dev/null 
pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_n10k&quot;</span>	-s 10k	-I 100		-f /dev/null 
pwrite		$OPTS -N <span class="enscript-string">&quot;pwrite_n100k&quot;</span>	-s 100k	-I 100		-f /dev/null 

mmap		$OPTS -N <span class="enscript-string">&quot;mmap_z8k&quot;</span>	-l 8k   -I 1000	-B 50	-f /dev/zero
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_z128k&quot;</span>	-l 128k	-I 2000	-B 100	-f /dev/zero
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_t8k&quot;</span>	-l 8k	-I 1000		-f $TFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_t128k&quot;</span>	-l 128k	-I 1000		-f $TFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_u8k&quot;</span>	-l 8k	-I 1000		-f $VFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_u128k&quot;</span>	-l 128k	-I 1000		-f $VFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_a8k&quot;</span>	-l 8k	-I 200		-f MAP_ANON
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_a128k&quot;</span>	-l 128k	-I 200		-f MAP_ANON


mmap		$OPTS -N <span class="enscript-string">&quot;mmap_rz8k&quot;</span>	-l 8k	-I 2000 -r	-f /dev/zero
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_rz128k&quot;</span>	-l 128k	-I 2000 -r	-f /dev/zero
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_rt8k&quot;</span>	-l 8k	-I 2000 -r	-f $TFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_rt128k&quot;</span>	-l 128k	-I 20000 -r	-f $TFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_ru8k&quot;</span>	-l 8k	-I 2000 -r	-f $VFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_ru128k&quot;</span>	-l 128k	-I 20000 -r	-f $VFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_ra8k&quot;</span>	-l 8k	-I 2000 -r	-f MAP_ANON
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_ra128k&quot;</span>	-l 128k	-I 20000 -r	-f MAP_ANON

mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wz8k&quot;</span>	-l 8k	-I 5000 -w	-B 50 -f /dev/zero
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wz128k&quot;</span>	-l 128k	-I 50000 -w	-B 50 -f /dev/zero
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wt8k&quot;</span>	-l 8k	-I 5000 -w	-f $TFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wt128k&quot;</span>	-l 128k	-I 50000 -w	-f $TFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wu8k&quot;</span>	-l 8k	-I 5000 -w	-f $VFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wu128k&quot;</span>	-l 128k	-I 500000 -w	-f $VFILE
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wa8k&quot;</span>	-l 8k	-I 3000 -w	-f MAP_ANON
mmap		$OPTS -N <span class="enscript-string">&quot;mmap_wa128k&quot;</span>	-l 128k	-I 50000 -w	-f MAP_ANON

munmap		$OPTS -N <span class="enscript-string">&quot;unmap_z8k&quot;</span>	-l 8k   -I 500		-f /dev/zero
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_z128k&quot;</span>	-l 128k	-I 500	-B 100	-f /dev/zero
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_t8k&quot;</span>	-l 8k	-I 500		-f $TFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_t128k&quot;</span>	-l 128k	-I 500		-f $TFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_u8k&quot;</span>	-l 8k	-I 500		-f $VFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_u128k&quot;</span>	-l 128k	-I 500		-f $VFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_a8k&quot;</span>	-l 8k	-I 500		-f MAP_ANON
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_a128k&quot;</span>	-l 128k	-I 500		-f MAP_ANON

munmap		$OPTS -N <span class="enscript-string">&quot;unmap_rz8k&quot;</span>	-l 8k	-I 1000	-r	-f /dev/zero
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_rz128k&quot;</span>	-l 128k	-I 2000 -r	-B 100 -f /dev/zero
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_rt8k&quot;</span>	-l 8k	-I 1000	-r	-f $TFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_rt128k&quot;</span>	-l 128k	-I 3000	-r	-f $TFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_ru8k&quot;</span>	-l 8k	-I 1000	-r	-f $VFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_ru128k&quot;</span>	-l 128k	-I 3000	-r	-f $VFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_ra8k&quot;</span>	-l 8k	-I 1000	-r	-f MAP_ANON
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_ra128k&quot;</span>	-l 128k	-I 2000	-r	-f MAP_ANON

connection	$OPTS -N <span class="enscript-string">&quot;conn_connect&quot;</span>		-B 256 	-c

munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wz8k&quot;</span>	-l 8k	-I 1000	-w	-f /dev/zero
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wz128k&quot;</span>	-l 128k	-I 8000	-w	-B 100 -f /dev/zero
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wt8k&quot;</span>	-l 8k	-I 1000	-w	-f $TFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wt128k&quot;</span>	-l 128k	-I 10000	-w	-f $TFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wu8k&quot;</span>	-l 8k	-I 1000	-w	-f $VFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wu128k&quot;</span>	-l 128k	-I 50000	-w -B 10	-f $VFILE
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wa8k&quot;</span>	-l 8k	-I 1000	-w	-f MAP_ANON
munmap		$OPTS -N <span class="enscript-string">&quot;unmap_wa128k&quot;</span>	-l 128k	-I 10000	-w	-f MAP_ANON


mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_z8k&quot;</span>	-l 8k  -I 300			-f /dev/zero
mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_z128k&quot;</span>	-l 128k	-I 500		-f /dev/zero
mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_wz8k&quot;</span>	-l 8k	-I 500	-w	-f /dev/zero
mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_wz128k&quot;</span>	-l 128k	-I 1000	-w	-f /dev/zero
mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_twz8k&quot;</span>  -l 8k   -I 1000 -w -t   -f /dev/zero
mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_tw128k&quot;</span> -l 128k -I 2000 -w -t   -f /dev/zero
mprotect	$OPTS -N <span class="enscript-string">&quot;mprot_tw4m&quot;</span>   -l 4m   -w -t -B 1  -f /dev/zero

pipe		$OPTS -N <span class="enscript-string">&quot;pipe_pst1&quot;</span>	-s 1	-I 1000	-x pipe -m st
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_pmt1&quot;</span>	-s 1	-I 8000	-x pipe -m mt
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_pmp1&quot;</span>	-s 1	-I 8000	-x pipe -m mp
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_pst4k&quot;</span>	-s 4k	-I 1000	-x pipe -m st
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_pmt4k&quot;</span>	-s 4k	-I 8000	-x pipe -m mt
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_pmp4k&quot;</span>	-s 4k	-I 8000	-x pipe -m mp

pipe		$OPTS -N <span class="enscript-string">&quot;pipe_sst1&quot;</span>	-s 1	-I 1000	-x sock -m st
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_smt1&quot;</span>	-s 1	-I 8000	-x sock -m mt
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_smp1&quot;</span>	-s 1	-I 8000	-x sock -m mp
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_sst4k&quot;</span>	-s 4k	-I 1000	-x sock -m st
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_smt4k&quot;</span>	-s 4k	-I 8000	-x sock -m mt
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_smp4k&quot;</span>	-s 4k	-I 8000	-x sock -m mp

pipe		$OPTS -N <span class="enscript-string">&quot;pipe_tst1&quot;</span>	-s 1	-I 1000	-x tcp  -m st
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_tmt1&quot;</span>	-s 1	-I 8000	-x tcp  -m mt
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_tmp1&quot;</span>	-s 1	-I 8000	-x tcp  -m mp
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_tst4k&quot;</span>	-s 4k	-I 1000	-x tcp  -m st
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_tmt4k&quot;</span>	-s 4k	-I 8000	-x tcp  -m mt
pipe		$OPTS -N <span class="enscript-string">&quot;pipe_tmp4k&quot;</span>	-s 4k	-I 8000	-x tcp  -m mp

<span class="enscript-comment">#connection	$OPTS -N &quot;conn_accept&quot;		-B 256      -a
</span>
lmbench_bw_unix -B 11 -L -W

lmbench_bw_mem $OPTS -N lmbench_bcopy_512 -s 512 -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_1k -s 1k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_2k -s 2k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_4k -s 4k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_8k -s 8k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_16k -s 16k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_32k -s 32k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_64k -s 64k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_128k -s 128k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_256k -s 256k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_512k -s 512k -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bcopy_1m -s 1m -x bcopy
lmbench_bw_mem $OPTS -N lmbench_bzero_512 -s 512 -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_1k -s 1k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_2k -s 2k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_4k -s 4k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_8k -s 8k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_16k -s 16k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_32k -s 32k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_64k -s 64k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_128k -s 128k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_256k -s 256k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_512k -s 512k -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_1m -s 1m -x bzero
lmbench_bw_mem $OPTS -N lmbench_bzero_512 -s 512 -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_1k -s 1k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_2k -s 2k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_4k -s 4k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_8k -s 8k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_16k -s 16k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_32k -s 32k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_64k -s 64k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_128k -s 128k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_256k -s 256k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_512k -s 512k -x fcp
lmbench_bw_mem $OPTS -N lmbench_bzero_1m -s 1m -x fcp
lmbench_bw_mem $OPTS -N lmbench_cp_512 -s 512 -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_1k -s 1k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_2k -s 2k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_4k -s 4k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_8k -s 8k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_16k -s 16k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_32k -s 32k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_64k -s 64k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_128k -s 128k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_256k -s 256k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_512k -s 512k -x cp
lmbench_bw_mem $OPTS -N lmbench_cp_1m -s 1m -x cp
lmbench_bw_mem $OPTS -N lmbench_frd_512 -s 512 -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_1k -s 1k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_2k -s 2k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_4k -s 4k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_8k -s 8k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_16k -s 16k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_32k -s 32k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_64k -s 64k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_128k -s 128k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_256k -s 256k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_512k -s 512k -x frd
lmbench_bw_mem $OPTS -N lmbench_frd_1m -s 1m -x frd
lmbench_bw_mem $OPTS -N lmbench_rd_512 -s 512 -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_1k -s 1k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_2k -s 2k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_4k -s 4k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_8k -s 8k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_16k -s 16k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_32k -s 32k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_64k -s 64k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_128k -s 128k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_256k -s 256k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_512k -s 512k -x rd
lmbench_bw_mem $OPTS -N lmbench_rd_1m -s 1m -x rd
lmbench_bw_mem $OPTS -N lmbench_fwr_512 -s 512 -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_1k -s 1k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_2k -s 2k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_4k -s 4k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_8k -s 8k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_16k -s 16k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_32k -s 32k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_64k -s 64k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_128k -s 128k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_256k -s 256k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_512k -s 512k -x fwr
lmbench_bw_mem $OPTS -N lmbench_fwr_1m -s 1m -x fwr
lmbench_bw_mem $OPTS -N lmbench_wr_512 -s 512 -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_1k -s 1k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_2k -s 2k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_4k -s 4k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_8k -s 8k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_16k -s 16k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_32k -s 32k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_64k -s 64k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_128k -s 128k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_256k -s 256k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_512k -s 512k -x wr
lmbench_bw_mem $OPTS -N lmbench_wr_1m -s 1m -x wr
lmbench_bw_mem $OPTS -N lmbench_rdwr_512 -s 512 -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_1k -s 1k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_2k -s 2k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_4k -s 4k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_8k -s 8k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_16k -s 16k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_32k -s 32k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_64k -s 64k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_128k -s 128k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_256k -s 256k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_512k -s 512k -x rdwr
lmbench_bw_mem $OPTS -N lmbench_rdwr_1m -s 1m -x rdwr

lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_512 -s 512 -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_1k -s 1k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_2k -s 2k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_4k -s 4k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_8k -s 8k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_16k -s 16k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_32k -s 32k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_64k -s 64k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_128k -s 128k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_256k -s 256k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_512k -s 512k -f $TFILE
lmbench_bw_mmap_rd $OPTS -N bw_mmap_rd_1m -s 1m -f $TFILE

.
</pre>
<hr />
</body></html>